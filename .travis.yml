language: python
os: linux
dist: bionic

python:
  - "2.7"
  - "3.5"
  - "3.6"
  - "3.7"
  - "3.8"

cache: pip

git:
  depth: false

branches:
  only:
    - master
    - /^[0-9]+\.x$/
    - /^[0-9]+\.[0-9]+$/

addons:
  sonarcloud:
    organization: clarkperkins
    token:
      secure: "thxDw6g+PgwiWrCQ4pgStlU3wbT+Bn06kEHd3DMo1ck5pL+nj9EVwihJp6ToJ7LMV74HjB4Y0A5DREHzS1Uoq8VPWzUXyAAcIXzWxX/GFSDDTJeLqlIE4Z3JBhpMc0bmAkXh6/9vGCQHsNTIi5SpPaw8fs+Fd7jUOAnHsLzTwCU/1G45BHwz/aB7uxhA1XdB4rbGWKBtbxLppH9B7tH2lH1QXriB34BnzoOrcL8xbX231ss3cIINcDq+d13+WWUtR5NynT0g0lUYPXp52202O0Q4xSqpEQ/HCDfcjrBHsn1qguijjbv8pEaa4zpW87nw06VbFVfbY33j4v0AUr57b/K/QBcpI4rRnFk/PAcmkbIDi1luJ0UnhYnhdlFbltbe0qfEO2ZuBc3MGzBpf7lH2UbUfsvNx3AC0/GFaZbVsjluNh+1AZO5vcgGeMPVnS0751/OYhMByp0PpFUlkIQg2vgDAfaF4i/y1h1HF3p1Jvrx7U9BD45ep412LMEeFLGKZ2fqO70Z+xaiIGwyKJjhIMaLDxrSVe4+IshnK4iBltsl4P5vKv0a4REuQed/hhU2YaVX8csz+H4WGq+9+IuN2O3E4shmjzZYAhJj2oYcjv0MXSNpvRBZb0+jr6C1HDEjycPmMcWEj2ByjKYz8HWoDiFVd75ej6WTBUCNt9RyGAg="

install:
  - ./install.sh

script:
  - ./build.sh

deploy:
  - provider: pypi
    username: clarkperkins
    password:
      secure: "exS7j0Z69e/9rpeQmNd0hQP3zN3OXUB3SiLSsjI5m1s+isH43IpgOmGcPWdRh53/1wKPqFrkeVkyT1qDkCh4Ae1RkQTQKyLxF1D/lkhyUU1/gTrElimgOM25OZuUuCpm+92zgbeF80HYdiOiib4X5aN1zNw9SXP2c8RinhA6Ml0n6CJXRM8j7KdcTrhrHJ3oIpBELD2uGyGPO3K02ThOv6BvyWRL2BzgmBU79SG/Ss8aLgBpdrBToJLhT47ZF4G4pfv0UlHESyRhIdxp/D0Rx0K9DvRJaL/xIcXn6g8Lg21YDn1dofkhdBSq8rSRBRKURHkggU1wO04c2kmiqPpYV3krGlHGGtjKSpcd7A7EVbCCg6WxLuQNgzRA5C1MUD/uOgPqPTIFjOJeVpBkSoL9VUvXS/rIRUet6kBcdOU9hpRYZKeSxRbb70QN5DsYS8F4NQPGxpVZb3wrBbIn0R1lJvYMfsaD0pkyyW+2fZOZjJKMcl9m7HSMppNzWDaZPU9O7iUMuG5dFcgttA44szkzUgrmUshDvbMb2acvwcZJEMJDhgfRJrm/2NlESlvmortnp+RJ2/Se52wH6urRK3CvFp9zOZzQWES3bfPC1hSVkcqarbn9xXujWBwDG+5l9m6+gAWNh4eF5+1IjWWG3NO8kLR/7ikwQMbwtUKlJdfFzbE="
    distributions: sdist bdist_wheel
    edge: true
    on:
      tags: true
      repo: clarkperkins/click-shell
      python: '3.5'
